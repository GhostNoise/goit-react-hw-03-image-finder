{"version":3,"sources":["components/Gallery/Gallery.module.css","components/App/App.module.css","components/PhotoCard/PhotoCard.module.css","components/SearchForm/SearchForm.module.css","API/getApi.js","API/filteredGetApi.js","components/SearchForm/SearchForm.jsx","components/Modal/Modal.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/App/App.jsx","index.js","components/Modal/Modal.module.css"],"names":["module","exports","gallery","app","button","photoCard","stats","statsItem","fullscreenButton","searchForm","axios","defaults","baseURL","getApi","pageNumber","query","arguments","length","undefined","get","concat","then","response","data","hits","catch","err","console","log","filteredGetApi","item","comments","downloads","id","largeImageURL","likes","views","webformatURL","SearchForm","state","input","handleInput","e","_this","setState","target","value","handleSubmit","preventDefault","onSubmit","props","this","react_default","a","createElement","className","styles","type","autoComplete","placeholder","onChange","Component","Modal","overlayRef","createRef","handleEsc","modalClosed","keyCode","handleClick","current","window","addEventListener","largeImage","overlay","onClick","onKeyDown","role","tabIndex","ref","modal","src","alt","PureComponent","PhotoCard","_ref","_ref$imageItem","imageItem","modalOpened","Gallery","images","map","key","galleryItem","components_PhotoCard_PhotoCard","App","image","imagesObj","filteredImagesObj","error","loadMore","_this$state","Object","toConsumableArray","scrollTo","top","behavior","handleLoadMore","prev","_this2","_this$state2","SearchForm_SearchForm","components_Gallery_Gallery","Modal_Modal","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.36ad4fc0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2wFLi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2EhKl\",\"button\":\"App_button__1LKWS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"PhotoCard_photoCard__T8OeO\",\"stats\":\"PhotoCard_stats__2iisi\",\"statsItem\":\"PhotoCard_statsItem__1MHD_\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__1u4f2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__11fhz\"};","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nexport default (pageNumber, query = '') => {\n  return axios\n    .get(\n      `/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=13861072-997e8257308f2a577547e7149`,\n    )\n    .then(response => response.data.hits)\n    .catch(err => console.log(err));\n};\n","export default item => {\n  const {\n    comments,\n    downloads,\n    id,\n    largeImageURL,\n    likes,\n    views,\n    webformatURL,\n  } = item;\n  return { comments, downloads, id, largeImageURL, likes, views, webformatURL };\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nexport default class SearchForm extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    input: '',\n  };\n\n  handleInput = e => {\n    // const { value } = target;\n    this.setState({ input: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { onSubmit } = this.props;\n    const { input } = this.state;\n\n    onSubmit(input);\n    this.setState({ input: '' });\n  };\n\n  render() {\n    const { input } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n          value={input}\n          onChange={this.handleInput}\n        />\n      </form>\n    );\n  }\n}\n","import React, { PureComponent, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends PureComponent {\n  overlayRef = createRef();\n\n  static propTypes = {\n    largeImage: PropTypes.string.isRequired,\n    modalClosed: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleEsc);\n  }\n\n  handleEsc = e => {\n    const { modalClosed } = this.props;\n\n    if (e.keyCode === 27) modalClosed();\n  };\n\n  handleClick = e => {\n    const { modalClosed } = this.props;\n\n    if (e.target === this.overlayRef.current) {\n      modalClosed();\n    }\n  };\n\n  render() {\n    const { largeImage } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        onClick={this.handleClick}\n        onKeyDown={() => {}}\n        role=\"button\"\n        tabIndex={0}\n        ref={this.overlayRef}\n      >\n        <div className={styles.modal}>\n          <img src={largeImage} alt=\"Large images\" />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\n\nconst PhotoCard = ({\n  imageItem: { webformatURL, likes, views, comments, downloads, largeImageURL },\n  modalOpened,\n}) => (\n  <div className={styles.photoCard}>\n    <img src={webformatURL} alt=\"Images not found\" />\n\n    <div className={styles.stats}>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {likes}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {views}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {comments}\n      </p>\n      <p className={styles.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {downloads}\n      </p>\n    </div>\n\n    <button\n      type=\"button\"\n      className={styles.fullscreenButton}\n      onClick={() => modalOpened(largeImageURL)}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  imageItem: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n  }).isRequired,\n  modalOpened: PropTypes.func.isRequired,\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\nimport PhotoCard from '../PhotoCard/PhotoCard';\n\nconst Gallery = ({ images, modalOpened }) => (\n  <ul className={styles.gallery}>\n    {images.map(imageItem => (\n      <li key={imageItem.id} className={styles.galleryItem}>\n        <PhotoCard imageItem={imageItem} modalOpened={modalOpened} />\n      </li>\n    ))}\n  </ul>\n);\n\nGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ).isRequired,\n  modalOpened: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React, { Component } from 'react';\nimport imagesObj from '../../API/getApi';\nimport filteredImagesObj from '../../API/filteredGetApi';\n\nimport SearchForm from '../SearchForm/SearchForm';\nimport Modal from '../Modal/Modal';\nimport Gallery from '../Gallery/Gallery';\n\nimport styles from './App.module.css';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    query: null,\n    largeImage: false,\n    pageNumber: 1,\n  };\n\n  componentDidMount() {\n    const { pageNumber } = this.state;\n\n    imagesObj(pageNumber)\n      .then(data => {\n        this.setState({ images: data.map(filteredImagesObj) });\n      })\n      .catch(err => console.log(err));\n  }\n\n  modalOpened = image => {\n    this.setState({ largeImage: image });\n  };\n\n  modalClosed = () => {\n    this.setState({ largeImage: null });\n  };\n\n  onSubmit = query => {\n    const { pageNumber } = this.state;\n\n    this.setState({ query, pageNumber: 1 }, () => {\n      imagesObj(pageNumber, query)\n        .then(data => {\n          this.setState({ images: data.map(filteredImagesObj) });\n        })\n        .catch(error => console.log(error));\n    });\n  };\n\n  loadMore = () => {\n    const { pageNumber, query, images } = this.state;\n    imagesObj(pageNumber, query).then(data => {\n      this.setState({\n        images: [...images, ...data.map(filteredImagesObj)],\n      });\n      window.scrollTo({\n        top: 100000,\n        behavior: 'smooth',\n      });\n    });\n  };\n\n  handleLoadMore = () => {\n    this.setState(\n      prev => ({\n        pageNumber: prev.pageNumber + 1,\n      }),\n      this.loadMore(),\n    );\n  };\n\n  render() {\n    const { images, largeImage } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm onSubmit={this.onSubmit} />\n        <Gallery images={images} modalOpened={this.modalOpened} />\n        {largeImage && (\n          <Modal largeImage={largeImage} modalClosed={this.modalClosed} />\n        )}\n\n        <button\n          type=\"button\"\n          className={styles.button}\n          onClick={this.handleLoadMore}\n        >\n          Load more\n        </button>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3IAGa\",\"modal\":\"Modal_modal__1uqKR\"};"],"sourceRoot":""}